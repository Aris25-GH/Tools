<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Print & Download</title>
    <script>
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                document.getElementById("originalSize").innerText = `Original File Size: ${(file.size / 1024 / 1024).toFixed(2)} MB`;
                const fileURL = URL.createObjectURL(file);
                document.getElementById("pdfFrame").src = fileURL;
            }
        }

        function printToPDF() {
            const frame = document.getElementById("pdfFrame");
            if (!frame.src || frame.src === "") {
                alert("Please upload a PDF file first.");
                return;
            }
            
            frame.contentWindow.focus();
            frame.contentWindow.print();
            
            setTimeout(() => {
                fetch(frame.src)
                    .then(response => response.blob())
                    .then(blob => {
                        const newSize = (blob.size / 1024 / 1024).toFixed(2);
                        document.getElementById("newSize").innerText = `Printed File Size: ${newSize} MB`;
                        const link = document.createElement("a");
                        link.href = frame.src;
                        link.download = "Printed-PDF.pdf";
                        link.click();
                    });
            }, 1000);
        }
    </script>
</head>
<body>
    <h2>PDF Print & Download</h2>
    <input type="file" id="pdfUpload" accept="application/pdf" onchange="handleFileUpload(event)">
    <p id="originalSize">Original File Size: Not Uploaded</p>
    <iframe id="pdfFrame" style="width:100%; height:500px; border:1px solid black;"></iframe>
    <br>
    <button onclick="printToPDF()">Print & Download PDF</button>
    <p id="newSize">Printed File Size: Not Available</p>
</body>
</html>
